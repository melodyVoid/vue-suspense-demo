{"remainingRequest":"/Users/botao/practice/vue-next-sample/node_modules/vue-loader/dist/index.js??ref--0-1!/Users/botao/practice/vue-next-sample/src/components/Promised.vue?vue&type=script&lang=js","dependencies":[{"path":"/Users/botao/practice/vue-next-sample/src/components/Promised.vue","mtime":1588833167517},{"path":"/Users/botao/practice/vue-next-sample/node_modules/cache-loader/dist/cjs.js","mtime":1581260775199},{"path":"/Users/botao/practice/vue-next-sample/node_modules/babel-loader/lib/index.js","mtime":1585232343745},{"path":"/Users/botao/practice/vue-next-sample/node_modules/cache-loader/dist/cjs.js","mtime":1581260775199},{"path":"/Users/botao/practice/vue-next-sample/node_modules/vue-loader/dist/index.js","mtime":1588819138569}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CmltcG9ydCB7IGRlZmluZUNvbXBvbmVudCwgb25Nb3VudGVkLCByZWYgfSBmcm9tICd2dWUnCmV4cG9ydCBkZWZhdWx0IGRlZmluZUNvbXBvbmVudCh7CiAgcHJvcHM6IHsKICAgIHByb21pc2U6IHsKICAgICAgdHlwZTogRnVuY3Rpb24sCiAgICB9LAogIH0sCiAgc2V0dXAocHJvcHMpIHsKICAgIGNvbnN0IGxvYWRpbmcgPSByZWYoZmFsc2UpCiAgICBjb25zdCBlcnIgPSByZWYobnVsbCkKICAgIGNvbnN0IHVzZXIgPSByZWYoW10pCiAgICAKICAgIG9uTW91bnRlZChhc3luYyAoKSA9PiB7CiAgICAgIHRyeSB7CiAgICAgICAgbG9hZGluZy52YWx1ZSA9IHRydWUKICAgICAgICBjb25zdCBsaXN0ID0gYXdhaXQgcHJvcHMucHJvbWlzZSgpCiAgICAgICAgdXNlci52YWx1ZSA9IGxpc3QKICAgICAgfSBjYXRjaCAoZXJyb3IpIHsKICAgICAgICBjb25zb2xlLmxvZyhlcnJvcikKICAgICAgICBlcnIudmFsdWUgPSBlcnJvcgogICAgICB9IGZpbmFsbHkgewogICAgICAgIGxvYWRpbmcudmFsdWUgPSBmYWxzZQogICAgICB9CiAgICB9KQoKICAgIHJldHVybiB7CiAgICAgIGxvYWRpbmcsCiAgICAgIGVyciwKICAgICAgdXNlciwKICAgIH0KICB9LAp9KQo="},{"version":3,"sources":["/Users/botao/practice/vue-next-sample/src/components/Promised.vue"],"names":[],"mappings":";AASA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA","file":"/Users/botao/practice/vue-next-sample/src/components/Promised.vue","sourceRoot":"","sourcesContent":["<template>\n  <div>\n    Promised\n    <slot name=\"error\" v-if=\"err\">{{ err }}</slot>\n    <slot name=\"loading\" v-else-if=\"loading\"></slot>\n    <slot name=\"default\" :user=\"user\" v-else></slot>\n  </div>\n</template>\n<script>\nimport { defineComponent, onMounted, ref } from 'vue'\nexport default defineComponent({\n  props: {\n    promise: {\n      type: Function,\n    },\n  },\n  setup(props) {\n    const loading = ref(false)\n    const err = ref(null)\n    const user = ref([])\n    \n    onMounted(async () => {\n      try {\n        loading.value = true\n        const list = await props.promise()\n        user.value = list\n      } catch (error) {\n        console.log(error)\n        err.value = error\n      } finally {\n        loading.value = false\n      }\n    })\n\n    return {\n      loading,\n      err,\n      user,\n    }\n  },\n})\n</script>\n<style lang=\"scss\" scoped>\n</style>"]}]}