{"remainingRequest":"/Users/botao/practice/vue-next-sample/node_modules/thread-loader/dist/cjs.js!/Users/botao/practice/vue-next-sample/node_modules/babel-loader/lib/index.js!/Users/botao/practice/vue-next-sample/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/botao/practice/vue-next-sample/node_modules/vue-loader/dist/index.js??ref--0-1!/Users/botao/practice/vue-next-sample/src/components/Promised.vue?vue&type=script&lang=js","dependencies":[{"path":"/Users/botao/practice/vue-next-sample/src/components/Promised.vue","mtime":1588833167517},{"path":"/Users/botao/practice/vue-next-sample/node_modules/cache-loader/dist/cjs.js","mtime":1581260775199},{"path":"/Users/botao/practice/vue-next-sample/node_modules/thread-loader/dist/cjs.js","mtime":1581260775242},{"path":"/Users/botao/practice/vue-next-sample/node_modules/babel-loader/lib/index.js","mtime":1585232343745},{"path":"/Users/botao/practice/vue-next-sample/node_modules/cache-loader/dist/cjs.js","mtime":1581260775199},{"path":"/Users/botao/practice/vue-next-sample/node_modules/vue-loader/dist/index.js","mtime":1588819138569}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJyZWdlbmVyYXRvci1ydW50aW1lL3J1bnRpbWUiOwppbXBvcnQgX2FzeW5jVG9HZW5lcmF0b3IgZnJvbSAiL1VzZXJzL2JvdGFvL3ByYWN0aWNlL3Z1ZS1uZXh0LXNhbXBsZS9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vYXN5bmNUb0dlbmVyYXRvciI7CmltcG9ydCB7IGRlZmluZUNvbXBvbmVudCwgb25Nb3VudGVkLCByZWYgfSBmcm9tICd2dWUnOwpleHBvcnQgZGVmYXVsdCBkZWZpbmVDb21wb25lbnQoewogIHByb3BzOiB7CiAgICBwcm9taXNlOiB7CiAgICAgIHR5cGU6IEZ1bmN0aW9uCiAgICB9CiAgfSwKICBzZXR1cDogZnVuY3Rpb24gc2V0dXAocHJvcHMpIHsKICAgIHZhciBsb2FkaW5nID0gcmVmKGZhbHNlKTsKICAgIHZhciBlcnIgPSByZWYobnVsbCk7CiAgICB2YXIgdXNlciA9IHJlZihbXSk7CiAgICBvbk1vdW50ZWQoIC8qI19fUFVSRV9fKi9fYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUoKSB7CiAgICAgIHZhciBsaXN0OwogICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZSQoX2NvbnRleHQpIHsKICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgc3dpdGNoIChfY29udGV4dC5wcmV2ID0gX2NvbnRleHQubmV4dCkgewogICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgX2NvbnRleHQucHJldiA9IDA7CiAgICAgICAgICAgICAgbG9hZGluZy52YWx1ZSA9IHRydWU7CiAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDQ7CiAgICAgICAgICAgICAgcmV0dXJuIHByb3BzLnByb21pc2UoKTsKCiAgICAgICAgICAgIGNhc2UgNDoKICAgICAgICAgICAgICBsaXN0ID0gX2NvbnRleHQuc2VudDsKICAgICAgICAgICAgICB1c2VyLnZhbHVlID0gbGlzdDsKICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gMTI7CiAgICAgICAgICAgICAgYnJlYWs7CgogICAgICAgICAgICBjYXNlIDg6CiAgICAgICAgICAgICAgX2NvbnRleHQucHJldiA9IDg7CiAgICAgICAgICAgICAgX2NvbnRleHQudDAgPSBfY29udGV4dFsiY2F0Y2giXSgwKTsKICAgICAgICAgICAgICBjb25zb2xlLmxvZyhfY29udGV4dC50MCk7CiAgICAgICAgICAgICAgZXJyLnZhbHVlID0gX2NvbnRleHQudDA7CgogICAgICAgICAgICBjYXNlIDEyOgogICAgICAgICAgICAgIF9jb250ZXh0LnByZXYgPSAxMjsKICAgICAgICAgICAgICBsb2FkaW5nLnZhbHVlID0gZmFsc2U7CiAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0LmZpbmlzaCgxMik7CgogICAgICAgICAgICBjYXNlIDE1OgogICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgIHJldHVybiBfY29udGV4dC5zdG9wKCk7CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICB9LCBfY2FsbGVlLCBudWxsLCBbWzAsIDgsIDEyLCAxNV1dKTsKICAgIH0pKSk7CiAgICByZXR1cm4gewogICAgICBsb2FkaW5nOiBsb2FkaW5nLAogICAgICBlcnI6IGVyciwKICAgICAgdXNlcjogdXNlcgogICAgfTsKICB9Cn0pOw=="},{"version":3,"sources":["/Users/botao/practice/vue-next-sample/src/components/Promised.vue"],"names":[],"mappings":";;AASA,SAAA,eAAA,EAAA,SAAA,EAAA,GAAA,QAAA,KAAA;AACA,eAAA,eAAA,CAAA;AACA,EAAA,KAAA,EAAA;AACA,IAAA,OAAA,EAAA;AACA,MAAA,IAAA,EAAA;AADA;AADA,GADA;AAMA,EAAA,KANA,iBAMA,KANA,EAMA;AACA,QAAA,OAAA,GAAA,GAAA,CAAA,KAAA,CAAA;AACA,QAAA,GAAA,GAAA,GAAA,CAAA,IAAA,CAAA;AACA,QAAA,IAAA,GAAA,GAAA,CAAA,EAAA,CAAA;AAEA,IAAA,SAAA,uEAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA,cAAA,OAAA,CAAA,KAAA,GAAA,IAAA;AAFA;AAAA,qBAGA,KAAA,CAAA,OAAA,EAHA;;AAAA;AAGA,cAAA,IAHA;AAIA,cAAA,IAAA,CAAA,KAAA,GAAA,IAAA;AAJA;AAAA;;AAAA;AAAA;AAAA;AAMA,cAAA,OAAA,CAAA,GAAA;AACA,cAAA,GAAA,CAAA,KAAA;;AAPA;AAAA;AASA,cAAA,OAAA,CAAA,KAAA,GAAA,KAAA;AATA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAA,GAAA;AAaA,WAAA;AACA,MAAA,OAAA,EAAA,OADA;AAEA,MAAA,GAAA,EAAA,GAFA;AAGA,MAAA,IAAA,EAAA;AAHA,KAAA;AAKA;AA7BA,CAAA,CAAA","sourcesContent":["<template>\n  <div>\n    Promised\n    <slot name=\"error\" v-if=\"err\">{{ err }}</slot>\n    <slot name=\"loading\" v-else-if=\"loading\"></slot>\n    <slot name=\"default\" :user=\"user\" v-else></slot>\n  </div>\n</template>\n<script>\nimport { defineComponent, onMounted, ref } from 'vue'\nexport default defineComponent({\n  props: {\n    promise: {\n      type: Function,\n    },\n  },\n  setup(props) {\n    const loading = ref(false)\n    const err = ref(null)\n    const user = ref([])\n    \n    onMounted(async () => {\n      try {\n        loading.value = true\n        const list = await props.promise()\n        user.value = list\n      } catch (error) {\n        console.log(error)\n        err.value = error\n      } finally {\n        loading.value = false\n      }\n    })\n\n    return {\n      loading,\n      err,\n      user,\n    }\n  },\n})\n</script>\n<style lang=\"scss\" scoped>\n</style>"],"sourceRoot":""}]}