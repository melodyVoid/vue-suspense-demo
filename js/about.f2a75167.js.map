{"version":3,"sources":["webpack:///./src/components/Promised.vue?413d","webpack:///./src/views/About.vue","webpack:///./src/components/Promised.vue","webpack:///./src/components/Promised.vue?01ec","webpack:///./src/views/About.vue?bf1b"],"names":["class","promise","fetchData","default","user","item","key","loading","error","err","props","type","Function","setup","render","__scopeId","timeout","ms","Promise","components","Promised"],"mappings":"gIAAA,W,4DCCOA,MAAM,S,EACT,eAA8B,UAA1B,yBAAqB,G,iBAUJ,gB,iBAIF,W,yEAfrB,eAmBM,MAnBN,EAmBM,CAlBJ,EAEA,eAeW,GAfAC,QAAS,EAAAC,WAAS,CAChBC,QAAO,gBAEhB,gBAFoBC,EAEpB,EAFoBA,KAEpB,MAFwB,CAExB,eAEK,Y,mBADH,eAAoD,2BAAjCA,GAAI,SAAZC,G,wBAAX,eAAoD,MAA1BC,IAAKD,GAAI,eAAKA,GAAI,M,YAIrCE,QAAO,gBAAC,iBAEnB,C,MAEWC,MAAK,gBAAC,iBAEjB,C,2JCjBC,c,gEAAL,eAKM,Y,EAHqB,EAAAC,IAAzB,eAA8C,0BAA9C,iBAA8C,C,8BAAb,EAAAA,KAAG,OACJ,EAAAF,QAAhC,eAAgD,4BAChD,eAAgD,oB,MAA1BH,KAAM,EAAAA,Y,YAKhC,kBACEM,MAAO,CACLT,QAAS,CACPU,KAAMC,WAGVC,MANF,SAMA,GACI,IAAJ,qBACA,uBACA,qBAeI,OAbA,OAAJ,OAAI,CAAJ,4JAEA,WAFA,SAGA,YAHA,OAGA,EAHA,OAIA,UAJA,mDAMA,kBACA,aAPA,yBASA,WATA,6EAaW,CACLN,QAAN,EACME,IAAN,EACML,KAAN,M,UChCA,EAAOU,OAAS,EAChB,EAAOC,UAAY,kBAEJ,QFgBf,SAASC,EAAQC,GACf,OAAO,IAAIC,SAAQ,SAArB,6B,SAGA,I,6FAAA,8GACA,OADA,gCAGA,SAHA,2C,wBAKA,OACEC,WAAY,CACVC,SAAJ,GAEEP,MAJF,WAKI,MAAO,CACLX,UAAN,KGpCA,EAAOY,OAAS,EAED","file":"js/about.f2a75167.js","sourcesContent":["export { default } from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/dist/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/dist/index.js??ref--0-1!./Promised.vue?vue&type=style&index=0&id=2c888de3&lang=scss&scoped=true\"; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/dist/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/dist/index.js??ref--0-1!./Promised.vue?vue&type=style&index=0&id=2c888de3&lang=scss&scoped=true\"","<template>\n  <div class=\"about\">\n    <h1>This is an about page</h1>\n\n    <Promised :promise=\"fetchData\">\n      <template #default=\"{ user }\">\n        <!-- {{ user }} -->\n        <ul>\n          <li v-for=\"item of user\" :key=\"item\">{{ item }}</li>\n        </ul>\n      </template>\n\n      <template #loading>\n        Loading...\n      </template>\n\n      <template #error>\n        Error\n      </template>\n    </Promised>\n  </div>\n</template>\n<script>\nimport Promised from '../components/Promised.vue'\nfunction timeout(ms) {\n  return new Promise(resolve => setTimeout(resolve, ms))\n}\n\nasync function fetchData() {\n  await timeout(3000)\n  // throw '错误'\n  return [1, 2, 3]\n}\nexport default {\n  components: {\n    Promised,\n  },\n  setup() {\n    return {\n      fetchData\n    }\n  }\n}\n</script>","<template>\n  <div>\n    Promised\n    <slot name=\"error\" v-if=\"err\">{{ err }}</slot>\n    <slot name=\"loading\" v-else-if=\"loading\"></slot>\n    <slot name=\"default\" :user=\"user\" v-else></slot>\n  </div>\n</template>\n<script>\nimport { defineComponent, onMounted, ref } from 'vue'\nexport default defineComponent({\n  props: {\n    promise: {\n      type: Function,\n    },\n  },\n  setup(props) {\n    const loading = ref(false)\n    const err = ref(null)\n    const user = ref([])\n    \n    onMounted(async () => {\n      try {\n        loading.value = true\n        const list = await props.promise()\n        user.value = list\n      } catch (error) {\n        console.log(error)\n        err.value = error\n      } finally {\n        loading.value = false\n      }\n    })\n\n    return {\n      loading,\n      err,\n      user,\n    }\n  },\n})\n</script>\n<style lang=\"scss\" scoped>\n</style>","import { render } from \"./Promised.vue?vue&type=template&id=2c888de3&scoped=true\"\nimport script from \"./Promised.vue?vue&type=script&lang=js\"\nexport * from \"./Promised.vue?vue&type=script&lang=js\"\n\nimport \"./Promised.vue?vue&type=style&index=0&id=2c888de3&lang=scss&scoped=true\"\nscript.render = render\nscript.__scopeId = \"data-v-2c888de3\"\n\nexport default script","import { render } from \"./About.vue?vue&type=template&id=c4c7b718\"\nimport script from \"./About.vue?vue&type=script&lang=js\"\nexport * from \"./About.vue?vue&type=script&lang=js\"\nscript.render = render\n\nexport default script"],"sourceRoot":""}